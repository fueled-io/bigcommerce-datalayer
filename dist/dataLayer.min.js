!function(){var e=[];window.dataLayer&&(e=window.dataLayer),window.ready=o,e.push=function(t){if(Array.prototype.push.call(e,t),e&&e.length&&e.length>0){const t=e.length,r=e[t-1];console.log(r)}};var t,r=window.analyticsData||[],n=[],a=window.document,c=window.MutationObserver||window.WebKitMutationObserver;function o(e,r){n.push({selector:e,fn:r}),t||(t=new c(i)).observe(a.documentElement,{childList:!0,subtree:!0}),i()}function i(){for(var e,t,r=0,c=n.length;r<c;r++){e=n[r];for(var o,i=0,d=(t=a.querySelectorAll(e.selector)).length;i<d;i++)(o=t[i]).ready||(o.ready=!0,e.fn.call(o,o))}}function d(e){if(!e)return"";var t=e.replace(/(\r\n|\n|\r)/gm,""),r=(new DOMParser).parseFromString(t,"text/html");return JSON.parse(r.documentElement.textContent)}function s(){let e="{{customer.name}}";return e=e.split(" "),{customer_id:r.userId||"{{customer.id}}",email:r.userEmail||"{{customer.email}}",first_name:e[0],last_name:e[1]}}function m(t){e.push({event:"add_to_cart",ecommerce:{cart_id:"{{ cart_id }}",items:[{item_name:"{{product.title}}",item_id:t,price:"{{product.price.without_tax.value}}",item_category:"{{product.category}}",item_variant:"{{product.sku}}"}]},shopper:s()})}o(".body",(function(){var t=document.getElementsByClassName("card-figure__link")||[],n=document.querySelectorAll("[data-button-type='add-cart']")||[],a=document.getElementById("form-action-addToCart"),c=document.getElementsByClassName("cart-remove")||[],o=document.getElementsByClassName("navUser-item--cart")||[];t.length>0&&[...t].forEach((t=>t.addEventListener("click",(()=>{var r;r=t.attributes[2].nodeValue,e.push({event:"select_item",ecommerce:{items:[{item_name:r}]},shopper:s()})})))),n.length>0&&n.forEach((e=>e.addEventListener("click",(e=>{var t=e.target.href.indexOf("product_id");m(e.target.href.slice(t).split("=")[1])})))),a&&a.addEventListener("click",(()=>{m("{{product.id}}")})),c.length>0&&c.forEach((t=>t.addEventListener("click",(()=>{var r;r=t.attributes[1].nodeValue,e.push({event:"remove_from_cart",ecommerce:{cart_id:"{{ cart_id }}",cart_item_id:r},shopper:s()})})))),o.length>0&&o[0].addEventListener("click",(()=>{e.push({event:"view_cart",ecommerce:{cart_id:"{{ cart_id }}",items:r.products||d("{{json cart.items}}")||[]},shopper:s()})}))})),document.getElementsByClassName("customerView-body")}();