!function(){var e=[];window.dataLayer&&(e=window.dataLayer).push({ecommerce:null}),window.ready=c,e.push=function(t){if(Array.prototype.push.call(e,t),e&&e.length&&e.length>0){const t=e.length,r=e[t-1];console.log(r)}};var t,r=window.analyticsData||[],o=[],n=window.document,a=window.MutationObserver||window.WebKitMutationObserver;function c(e,r){o.push({selector:e,fn:r}),t||(t=new a(i)).observe(n.documentElement,{childList:!0,subtree:!0}),i()}function i(){for(var e,t,r=0,a=o.length;r<a;r++){e=o[r];for(var c,i=0,d=(t=n.querySelectorAll(e.selector)).length;i<d;i++)(c=t[i]).ready||(c.ready=!0,e.fn.call(c,c))}}function d(){return{customer_id:r.userId||"{{customer.email}}",email:r.userId||"{{customer.email}}",externalCustomerId:"{{customer.id}}"}}function u(t){e.push({event:"add_to_cart",ecommerce:{items:[{item_name:"{{product.title}}",item_id:t,price:"{{product.price.without_tax.value}}",item_category:"{{product.category}}",item_variant:"{{product.sku}}"}]},shopper:d()})}c(".body",(function(){var t=document.getElementsByClassName("card-figure__link")||[],r=document.querySelectorAll("[data-button-type='add-cart']")||[],o=document.getElementById("form-action-addToCart"),n=document.getElementsByClassName("cart-remove")||[];t.length>0&&[...t].forEach((t=>t.addEventListener("click",(()=>{var r;r=t.attributes[2].nodeValue,e.push({event:"select_item",ecommerce:{items:[{item_name:r}]},shopper:d()})})))),r.length>0&&r.forEach((e=>e.addEventListener("click",(e=>{var t=e.target.href.indexOf("product_id");u(e.target.href.slice(t).split("=")[1])})))),o&&o.addEventListener("click",(()=>{u("{{product.id}}")})),n.length>0&&n.forEach((t=>t.addEventListener("click",(()=>{var r;r=t.attributes[1].nodeValue,e.push({event:"remove_from_cart",ecommerce:{cart_item_id:r},shopper:d()})}))))})),document.getElementsByClassName("customerView-body")}();