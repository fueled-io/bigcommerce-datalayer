({138:function(){var e,t=[],a=window.document,r=window.MutationObserver||window.WebKitMutationObserver;function o(o,c){t.push({selector:o,fn:c}),e||(e=new r(n)).observe(a.documentElement,{childList:!0,subtree:!0}),n()}function n(){for(var e,r,o=0,n=t.length;o<n;o++){e=t[o];for(var c,i=0,d=(r=a.querySelectorAll(e.selector)).length;i<d;i++)(c=r[i]).ready||(c.ready=!0,e.fn.call(c,c))}}function c(){return{customer_id:d.userId||"{{customer.email}}",email:d.userId||"{{customer.email}}",externalCustomerId:"{{customer.id}}"}}var i=window.dataLayer,d=window.analyticsData;function s(e){i.push({event:"add_to_cart",ecommerce:{items:[{item_name:"{{product.title}}",item_id:e,price:"{{product.price.without_tax.value}}",item_category:"{{product.category}}",item_variant:"{{product.sku}}"}]},shopper:c()})}validateDatalayerJson=()=>({}),document.getElementsByClassName("customerView-body");const{checkoutId:l}=window.checkoutConfig;!function(e){"use strict";e.ready=o,i.push=function(e){if(Array.prototype.push.call(i,e),i&&i.length>0){const e=i.length,t=i[e-1];validateDatalayerJson(t,"event"),validateDatalayerJson(t,"ecommerce"),validateDatalayerJson(t,"shopper")}}}(this),window.dataLayer||(window.dataLayer=[]),i.push({ecommerce:null}),o(".body",(function(){var e=document.getElementsByClassName("card-figure__link")||[],t=document.querySelectorAll("[data-button-type='add-cart']")||[],a=document.getElementById("form-action-addToCart"),r=document.getElementsByClassName("cart-remove")||[];e.length>0&&e.forEach((e=>e.addEventListener("click",(()=>{var t;t=e.attributes[2].nodeValue,i.push({event:"select_item",ecommerce:{items:[{item_name:t}]},shopper:c()})})))),t.length>0&&t.forEach((e=>e.addEventListener("click",(e=>{var t=e.target.href.indexOf("product_id");s(e.target.href.slice(t).split("=")[1])})))),a&&a.addEventListener("click",(()=>{s("{{product.id}}")})),r.length>0&&r.forEach((e=>e.addEventListener("click",(()=>{var t;t=e.attributes[1].nodeValue,i.push({event:"remove_from_cart",ecommerce:{cart_item_id:t},shopper:c()})}))))}))}})[138]();