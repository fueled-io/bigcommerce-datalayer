!function(){var e=[];window.dataLayer&&(e=window.dataLayer),window.ready=c,e.push=function(t){if(Array.prototype.push.call(e,t),e&&e.length&&e.length>0){const t=e.length,r=e[t-1];console.log(r)}};var t,r=window.analyticsData||[],n=[],a=window.document,o=window.MutationObserver||window.WebKitMutationObserver;function c(e,r){n.push({selector:e,fn:r}),t||(t=new o(i)).observe(a.documentElement,{childList:!0,subtree:!0}),i()}function i(){for(var e,t,r=0,o=n.length;r<o;r++){e=n[r];for(var c,i=0,s=(t=a.querySelectorAll(e.selector)).length;i<s;i++)(c=t[i]).ready||(c.ready=!0,e.fn.call(c,c))}}function s(e){if(!e)return"";var t=e.replace(/(\r\n|\n|\r)/gm,""),r=(new DOMParser).parseFromString(t,"text/html");return JSON.parse(r.documentElement.textContent)}function d(){let e="{{customer.name}}";return e=e.split(" "),{customer_id:r.userId||"{{customer.id}}",email:r.userEmail||"{{customer.email}}",first_name:e[0],last_name:e[1]}}function m(t){e.push({event:"add_to_cart",ecommerce:{items:[{item_name:"{{product.title}}",item_id:t,price:"{{product.price.without_tax.value}}",item_category:"{{product.category}}",item_variant:"{{product.sku}}"}]},shopper:d()})}c(".body",(function(){var t=document.getElementsByClassName("card-figure__link")||[],n=document.querySelectorAll("[data-button-type='add-cart']")||[],a=document.getElementById("form-action-addToCart"),o=document.getElementsByClassName("cart-remove")||[],c=document.getElementsByClassName("navUser-item--cart")||[];t.length>0&&[...t].forEach((t=>t.addEventListener("click",(()=>{var r;r=t.attributes[2].nodeValue,e.push({event:"select_item",ecommerce:{items:[{item_name:r}]},shopper:d()})})))),n.length>0&&n.forEach((e=>e.addEventListener("click",(e=>{var t=e.target.href.indexOf("product_id");m(e.target.href.slice(t).split("=")[1])})))),a&&a.addEventListener("click",(()=>{m("{{product.id}}")})),o.length>0&&o.forEach((t=>t.addEventListener("click",(()=>{var r;r=t.attributes[1].nodeValue,e.push({event:"remove_from_cart",ecommerce:{cart_item_id:r},shopper:d()})})))),c.length>0&&c[0].addEventListener("click",(()=>{console.log("{{ cart.cart_id }}"),e.push({event:"view_cart",ecommerce:{items:r.products||s("{{json cart.items}}")||[]},shopper:d()})}))})),document.getElementsByClassName("customerView-body")}();